<?php
	/******************************************************************
	 browse.nav.list.show.phtml                            Muze Ariadne
	 ------------------------------------------------------------------
	 Arguments: none
	 Grant needed: none
	 Global variables: none

	 This template displays the icon and name of an object. If the 
	 user doesn't have read access to the object, the name is displayed
	 in grey.
	 
	 no result

	******************************************************************/

	require_once($this->store->code."modules/mod_unicode.php");

	if (!$arLanguage) {
		$arLanguage=$nls;
	}
	if ($data->$arLanguage) {
		$nlsdata=$data->$arLanguage;
	}
?>
<div class='object'><nobr><a title="<?php echo $nlsdata->name; ?>" 
	href="javascript:top.View('<?php echo $this->path; ?>');"><img 
	width="20" height="20" src="<?php echo $AR->dir->images; ?>icons/<?php echo $this->type; ?>.gif" 
	alt="<?php echo $this->path; ?>" border="0"> <?php
		$nlsname = unicode::utf8convert($nlsdata->name); 
		if(substr($nlsname,0,1) == '&') {
				$charbytes=6;
		} else {
				$charbytes=1;
		}
		if (strlen($nlsname)>(32*$charbytes) ) {
			$name=substr($nlsname,0, 32*$charbytes)."...";
		} else {
			$name=$nlsdata->name;
		}
		if (!$this->CheckSilent("read")) {
			echo "<font color=\"#CCCCCC\">$name</font>";
		} else {
			echo "$name";
		}
	?></a></nobr></div>
