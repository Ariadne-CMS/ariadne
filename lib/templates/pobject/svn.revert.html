<pre>
<?php
        if ($this->CheckLogin("layout") && $this->CheckConfig()) {
		$repository = $this->data->custom['none']['svn'];

		if (isset($repository)) {
			$username = $_POST['username'];
			$password = $_POST['password'];

			if (! (isset($username) && isset($password)) ) {
				?>
					<form method="post">
						SVN user: <input type="text" name="username">
						SVN pass: <input type="password" name="password">
						<input type="submit" value="revert">
					</form>
				<?php
			} else {
				$fstore	= $this->store->get_filestore_svn("templates");
				$svnstack = &PEAR_ErrorStack::singleton('VersionControl_SVN');
				$svn	= $fstore->connect($this->id, $repository, $username, $password);

				$status = $fstore->svn_revert($svn);
		
				print_r($status);
			}
		} else {
			echo "No SVN repository information set.";
		}
	}
?>
</pre>