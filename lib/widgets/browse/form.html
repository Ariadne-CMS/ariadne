<?php 
  if (!$wgBrowsePath) { 
    $wgBrowsePath=$this->path; 
  }
  if ($wgRoot) {
    if (substr($wgBrowsePath, 0, strlen($wgRoot)) == $wgRoot) {
      $wgBrowsePath = substr($wgBrowsePath, strlen($wgRoot));
    } else {
      $wgBrowsePath = "";
    }
  }

  if (!$wgBrowseName) {
    $wgBrowseName="browsewindow";
  }
  if (!$wgBrowseTitle) {
    $wgBrowseTitle="Browse...";
  }
  if (!$wgBrowseSize) {
    $wgBrowseSize="16";
  }
  if (!$wgBrowseMode) {
    $wgBrowseMode="list";
  }
?>
<input type="text" class="wgBrowseInput" name="<?php echo $wgBrowseName; ?>"
         value="<?php echo $wgBrowsePath; ?>" size="<?php echo $wgBrowseSize; ?>">
<input type="button" class="wgBrowseButton" name="select" 
         value="<?php echo $wgBrowseTitle; ?>" 
         onClick="Browse(this.form['<?php echo $wgBrowseName; ?>'], '<?php echo $wgBrowsePath; ?>', 
                    '<?php echo $wgBrowseName; ?>', '<?php echo $wgBrowseTitle; ?>',
                    '<?php echo $wgBrowseMode; ?>', '<?php echo $wgBrowseFilter; ?>',
                    '<?php echo $wgBrowseFilename; ?>', '<?php echo $wgRoot; ?>');">