<?php
    /******************************************************************
     particle.phtml                                        Muze Ariadne
     ------------------------------------------------------------------
     Author: Muze (info@muze.nl)
     Date: 31 october 2002

     Copyright 2002 Muze

     This file is part of Ariadne.

     Ariadne is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published 
     by the Free Software Foundation; either version 2 of the License, 
     or (at your option) any later version.
 
     Ariadne is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with Ariadne; if not, write to the Free Software 
     Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  
     02111-1307  USA

    -------------------------------------------------------------------

     Class inheritance: 	pobject > ppage > particle
     Description:

       This is the class definition file of the particle class.

    ******************************************************************/
debug("particle.phtml: Load","object");
include_once($this->code."objects/ppage.phtml");

class particle extends ppage { // particle class definition

	function ParseSummary($template="view.html", $extra="", $text="") {
		debug("particle: ParseSummary()","object");
		$summary=$this->ParsePage($this->nlsdata->summary);
        if (eregi("<a>",$summary)) {
            $summary=eregi_replace("<a>","<a href=\"".$this->make_url()."$template\" $extra>",$summary);
        } else {
			if ($text==="") {
				$text=$ARnls["more"]."...";
			}
			if ($text!==false && $this->nlsdata->page) {
				$summary.=" <a href=\"".$this->make_url()."$template\" $extra>$text</a>";
			}
		}
		return $summary;
	}

	function _ParseSummary($template="view.html", $extra="", $text="") {
		return $this->ParseSummary($template, $extra, $text);
	}

} // end of particle class definition
?>