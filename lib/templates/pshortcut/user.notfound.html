<?php
	$ARCurrent->nolangcheck=true;
	if ($this->CheckConfig()) {
		if ($this->data->path) {
			if (!$this->data->keepurl) {
				$this->call("pobject::user.notfound.html", $arCallArgs);
			} else {
				$arCallArgs["arRequestedPath"] = $arRequestedPath;
				$subpath = substr($arRequestedPath, strlen($this->path));
				
				if ($this->exists($this->data->path.$subpath)) {
					if (!is_array($ARCurrent->shortcut_redirect)) {
						$ARCurrent->shortcut_redirect = Array();
					}
					array_push($ARCurrent->shortcut_redirect, Array("src" => $this->path, "dest" => $this->data->path, "keepurl" => $this->data->keepurl));
						$arResult = $this->get($this->data->path.$subpath, $arRequestedTemplate, $arCallArgs);
					array_pop($ARCurrent->shortcut_redirect);
				} else {
					$this->call("pobject::user.notfound.html", $arCallArgs);
				}
			}
		} else {
			$this->call("pobject::user.notfound.html", $arCallArgs);
		}
	}
?>