<?php
    /******************************************************************
     winxp.manage.html                                     Muze Ariadne
     ------------------------------------------------------------------
     Author: Muze (info@muze.nl)
     Date: 11 december 2002

     Copyright 2002 Muze

     This file is part of Ariadne.

     Ariadne is free software; you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published 
     by the Free Software Foundation; either version 2 of the License, 
     or (at your option) any later version.
 
     Ariadne is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details.

     You should have received a copy of the GNU General Public License
     along with Ariadne; if not, write to the Free Software 
     Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  
     02111-1307  USA

    -------------------------------------------------------------------

     Description:

	WinXP Management Interface Template.

    ******************************************************************/

	if ($this->CheckLogin("read") && $this->CheckConfig($arCallFunction, $arCallArgs)) {
		if (!$arLanguage) {
			$arLanguage=$nls;
			if (is_array($arCallArgs)) {
				$arCallArgs["arLanguage"]=$nls;
			} else {
				$arCallArgs.="&arLanguage=$nls";
			}
		}
?>
<style>

BODY {
	background-color : #FFFFFF;
	margin: 0px;
}

TH,TD,LI,P,BODY {
	font-size : 13px;
	font-family : verdana,helvetica, arial, sans-serif;
}

A	{
	text-decoration: none;
}
A:link {
	text-decoration: none;
	color: #000000;
}
A:visited {
	text-decoration: none;
	color: #000000; 
}
A:hover {
	text-decoration: none;
	color: #000000; 
}
A.selected {
	border: inset 1px;
}
A.unselected {
	border: outset 1px;
}
.sidebar{
	width: 210px;
}
#kill-scrollbars {
	margin: 0px;
	border: 0px;
	padding: 0px;
	height: 100%;
	width: 100%;
	overflow: hidden;
}
body {
	height: auto;
	width: auto;
	overflow: hidden;
}
</style>
	<table border=0 cellpadding=0 cellspacing=0 style="width: auto; margin: 0px; border: 0px; overflow: hidden;">
	<tr>
		<td valign="top" style="background: url(<?php echo $AR->dir->images ?>winxp/ExplorerBarHeaderBackground.png) repeat-y;">
		<script>
		    if (document.all) {
				window.innerHeight=document.body.clientHeight;
				window.innerWidth=document.body.clientWidth;
			}
			height=window.innerHeight-60;
			width=window.innerWidth;
			document.write('<iframe id="sidebarFrame" frameborder="0" src="winxp.manage.sidebar.html?<?php echo ldGetServerVar("QUERY_STRING"); ?>" height="' + height + '" width="227"></iframe>');
		</script>
		</td>
		<td valign="top" width="100%">
	<div id="container" style="width: 100%; height: 100%; overflow: auto; background-color: white;">
		<script>
		viewmode=parent.Get('viewmode');
		if (!viewmode) {
			viewmode='list';
		}
		<?php
			$oldnls=$nls;
			$this->setnls($arLanguage);
			$url=$this->store->root.$this->make_path();
		?>
		var query='<?php echo ldGetServerVar("QUERY_STRING"); ?>';
		document.write('<iframe frameborder="0" id="archildren" height="'+height+'" width="100%" src="<?php echo $url; ?>winxp.browse.nav.'+viewmode+'.phtml?'+query+'"></iframe>');
		<?php
			$this->setnls($oldnls);
		?>
		
		function selectItem(itm, hideAdd){
			if (!hideAdd)
				hideAdd="0";
			if (itm.path)
				var path = itm.path;
			else
				var path = itm.getAttribute("path");
			document.getElementById('sidebarFrame').src = '<?php echo $this->store->root; ?>'+path+'winxp.manage.sidebar.html?hideAdd=' + hideAdd;
		}
	</script>
	</div>
	</td></tr></table>

<?php
	}
?>