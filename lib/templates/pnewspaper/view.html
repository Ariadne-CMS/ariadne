<?php
	/******************************************************************
	 index.html						 Muze Ariadne v2.0b
	 ------------------------------------------------------------------
	 Arguments: none
	 Grant needed: read
	 Interface/Widget: all
	 Global variables: none

	 This displays a suitable overview of the object.

	 no result.

	******************************************************************/
	if ($this->CheckLogin("read") && $this->CheckConfig($arCallFunction, $arCallArgs) ) {

	function maketime($date) {
		$tok=explode("-",$date);
		return (mktime(0,0,0,$tok[1],$tok[0],$tok[2]));
	}

?>
<html>
<head>
<title><?php echo $nlsdata->name; ?></title>
</head>
<body bgcolor="white">
<font face="helvetica, sans-serif" size="2">
<h3><?php echo $nlsdata->name; ?></h3>
<p>
<?php echo $nlsdata->summary; ?>
<form name="range" method="post">
<table border="0" bgcolor="#DDDDDD" cellspacing="0" width="100%">
<tr>
	<td align="left"><b><?php echo $ARnls["start"]; ?>:</b>
	<?php
		if (!$startdate) {
			$startdate=time()-(3600*24*4);
		}
		$wgDateName="startdate";
		$wgDate=$startdate;
		include($this->store->code."widgets/date/js.html");
		include($this->store->code."widgets/date/form.html");
	?>
	</td>
	<td align="left"><b><?php echo $ARnls["end"]; ?>:</b>
	<?php
		if (!$enddate) {
			$enddate=time()+(3600*24*4);
		}
		$wgDateName="enddate";
		$wgDate=$enddate;
		include($this->store->code."widgets/date/form.html");
	?>
	</td>
	<td align="left">
	<input type="submit" name="view" value="<?php echo $ARnls["show"]; ?>">
	</td>
</tr>
</table>
</form>
<?php
	$articles=$this->get_articles("default",20,$startdate,$enddate);
	if (is_array($articles)) {
		while (list($key,$article)=each($articles)) {
			$article->call("show.phtml");
		}
	}
?>
</font>
</body>
</html>
<?php
	}
?>