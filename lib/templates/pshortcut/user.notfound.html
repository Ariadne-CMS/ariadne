<?php
	$ARCurrent->nolangcheck=true;
	if ($this->CheckConfig($arCallFunction, $arCallArgs)) {
		if ($this->data->path) {
			if (!$ARConfig->cache[$this->data->path]) {
				$this->get($this->data->path, "system.get.config.phtml");
			}
			$configcache = $ARConfig->cache[$this->data->path];
			$configcache->templates_path = $this->path;
			$ARConfig->cache[$this->data->path] = $configcache;

			$arCallArgs["arRequestedPath"] = $arRequestedPath;
			$subpath = substr($arRequestedPath, strlen($this->path));
			
			if (!is_array($ARCurrent->shortcut_redirect)) {
				$ARCurrent->shortcut_redirect = Array();
			}
			array_push($ARCurrent->shortcut_redirect, Array("src" => $this->path, "dest" => $this->data->path, "keepurl" => $this->data->keepurl));
				$arResult = $this->get($this->data->path.$subpath, $arRequestedTemplate, $arCallArgs);
			array_pop($ARCurrent->shortcut_redirect);

			unset($ARConfig->cache[$this->data->path]->templates_path);
		} else {
			$this->call("pobject::user.notfound.html", $arCallArgs);
		}
	}
?>