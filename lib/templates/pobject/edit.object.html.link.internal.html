<?php
	$ARCurrent->nolangcheck=true;
	if ($this->CheckLogin('read') && $this->CheckConfig($arCallFunction, $arCallArgs)) {
		$settings=$this->call("editor.ini");

		include($this->store->get_config("code")."nls/ieedit.".$this->reqnls);

?>
<html>
<head>
<style>
TD {
	FONT: 11px arial, helvetica, sans-serif;
}
INPUT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 50px;
}
SELECT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 75px;
}
BODY 	{
	FONT: 11px arial, helvetica, sans-serif;
	BORDER: 0;
	BACKGROUND-COLOR: buttonface;
	MARGIN: 0px;
	PADDING: 0px;
}
.button {
	width:75px;
	margin-left: 10px;
}
.alternate {
	width: 235px;
}
.fieldset {
	width: 245px;
}
.layout {
	width: 75px;
}
.url {
	width: 225px;
}
.name {
	width: 90px;
}
.langselect {
	width: 75px;
}
.wgBrowseInput {
		width: 140px;
}
.wgBrowseButton {
		width: 75px;
}
</style>
<SCRIPT LANGUAGE=JavaScript>
<!--
	function doSubmit(form) {
		document.forms[0].submit();
	}

	function doChangeType(type) {
		document.location.href=type;
	}
// -->
</SCRIPT>
<SCRIPT LANGUAGE=JavaScript FOR=window EVENT=onload>
<!--
	var language_is_set = false;
	for ( elem in top.window.dialogArguments ) {
		switch( elem ) {
			case "ar_nls":
			case "ar:nls":
				var ar_select = document.forms[0]['ar_nls'];
				for (i=0; i<ar_select.options.length; i++) {
					if (ar_select.options[i].value == top.window.dialogArguments[elem])
					{
						ar_select.selectedIndex = i;
						language_is_set = true;
					}
				}
			break;
			case "tbContentLanguage":
				var ar_select = document.forms[0]['ar_nls'];
				if (!language_is_set) {
					for (i=0; i<ar_select.options.length; i++) {
						if (ar_select.options[i].value == top.window.dialogArguments[elem])
						{
							ar_select.selectedIndex = i;
						}
					}
				}
				break;
			case "ar_path":
			case "ar:path":
				document.forms[0]['ar_path'].value = top.window.dialogArguments[elem];
				break;
			case "name":
				document.forms[0]['name'].value = top.window.dialogArguments["name"];
				break;
			case "ar_type":
			case "ar:type":
				var ar_type = top.window.dialogArguments[elem];
				for (i=0; i<document.forms[0]['ar_type'].options.length; i++) {
					if (document.forms[0]['ar_type'].options[i].value==ar_type) {
						document.forms[0]['ar_type'].selectedIndex=i;
						break;
					}
				}						
				break;				
		}
	}
// -->
</script>
</HEAD>
<BODY SCROLL=NO>
<table class="fieldset" align="left">
<form action="edit.object.html.link.internal.save.html">
	<tr>
		<td><?php echo $ARnls["e_hyperlink_type"]; ?>:</td>
		<td><select name="ar_type" class="layout" onChange="doChangeType(this.options[this.selectedIndex].value);">
			<?php
				$type="edit.object.html.link.internal.html";
				while (list($key, $value)=each($settings["hyperlink"])) {
					echo "<option value=\"$value\"";
					if ($value==$type) { echo " selected"; }
					echo ">$key</option>";
				}
			?>
		</select></td>
		<td><?php echo $ARnls["language"]; ?>:</td>
		<td colspan="3">
			<select class="langselect" name="ar_nls">
			<option value="none"><?php echo $ARnls["none"]; ?></option>
			<?php
				global $AR;
				foreach ($AR->nls->list as $key => $value) {
					echo "<option value=\"$key\">$value</option>\n";
				}
			?>
			</select>
		</td>
	</tr><tr>
		<td><?php echo $ARnls["e_hyperlink_path"]; ?>:</td>
		<td colspan="3"><nobr><?php
			$wgBrowseName="ar_path";
			$wgBrowsePath=$src;
			include($this->store->get_config("code")."widgets/browse/js.html");
			include($this->store->get_config("code")."widgets/browse/form.html");
		?></nobr>
		</td>
	</tr><tr>
		<td><?php echo $ARnls["name"]; ?>:</td>
		<td colspan="3"><input type="text" name="name" value="" class="name"></td>
	</tr>
</form>
</table>
</body>
</html>
<?php
	}
?>
