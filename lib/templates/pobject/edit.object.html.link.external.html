<?php
	$ARCurrent->nolangcheck=true;
	if ($this->CheckLogin("read") && $this->CheckConfig($arCallFunction, $arCallArgs)) {
		$settings=$this->call('editor.ini');

		include($this->store->get_config("code")."nls/ieedit.".$this->reqnls);

?><html>
<head>
<style>
TD {
	FONT: 11px arial, helvetica, sans-serif;
}
INPUT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 50px;
}
SELECT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 75px;
}
BODY 	{
	FONT: 11px arial, helvetica, sans-serif;
	BORDER: 0;
	BACKGROUND-COLOR: buttonface;
	MARGIN: 0px;
	PADDING: 0px;
}
.button {
	width:75px;
	margin-left: 10px;
}
.alternate {
	width: 235px;
}
.fieldset {
	width: 245px;
}
.layout {
	width: 75px;
}
.url {
	width: 225px;
}
.name {
	width: 90px;
}
.checkbox {
	width: auto;
}
</style>
<SCRIPT LANGUAGE=JavaScript>
<!--
	function doSubmit() {
		document.forms[0].submit();
	}

	function doChangeType(type) {
		document.location.href=type;
	}
// -->
</SCRIPT>
<SCRIPT LANGUAGE=JavaScript>
<!--
function arInit() {
	var attributes = top.arGetAttributes();

	for ( elem in attributes ) {
		switch( elem ) {
			case "URL":
				document.forms[0]['URL'].value = attributes["URL"];
				break;
			case "name":
				document.forms[0]['name'].value = attributes["name"];
				break;
			case "target":
				if (document.forms[0]['target'].value == attributes["target"]) {
					document.forms[0]['target'].checked=true;
				} else {
					document.forms[0]['target'].checked=false;
				}
				break;
			case "ar_type":
			case "ar:type":
				var ar_type = attributes[elem];
				for (i=0; i<document.forms[0]['ar_type'].options.length; i++) {
					if (document.forms[0]['ar_type'].options[i].value==ar_type) {
						document.forms[0]['ar_type'].selectedIndex=i;
						break;
					}
				}
				break;
		}
	}
}
// -->
</script>
</HEAD>
<BODY SCROLL=NO onload="arInit();">
		<table class="fieldset" align="left">
		<form action="edit.object.html.link.external.save.html">
			<tr>
				<td><?php echo $ARnls["e_hyperlink_type"]; ?>:</td>
				<td><select name="ar_type" class="layout" onChange="doChangeType(this.options[this.selectedIndex].value);">
					<?php
						if (is_array($settings["hyperlink_names"])) {
							$type="external";
							reset($settings["hyperlink_names"]);
							while (list($key, $value)=each($settings["hyperlink_names"])) {
								echo "<option value=\"".$settings["hyperlink"][$key]."\"";
								if ($key==$type) { echo " selected"; }
								echo ">$value</option>";
							}
						} else {
							$type="edit.object.html.link.external.html";
							reset($settings["hyperlink"]);
							while (list($key, $value)=each($settings["hyperlink"])) {
								echo "<option value=\"$value\"";
								if ($value==$type) { echo " selected"; }
								echo ">$key</option>";
							}
						}
					?>
				</select></td>
			</tr><tr>
				<td>URL:</td>
				<td colspan="3"><INPUT ID=URL TYPE=TEXT NAME=URL value="<?php echo $URL; ?>" class="url"></td>
			</tr><tr>
				<td><?php echo $ARnls["name"]; ?>:</td>
				<td><input type="text" name="name" value="" class="name"></td>
				<td colspan="2" style="width: 150px;"><input type="checkbox" name="target" value="_blank" class="checkbox"><?php echo $ARnls["openinpopup"]; ?></td>
			</tr>
			</form>
		</table>
</body>
</html>
<?php
	}
?>