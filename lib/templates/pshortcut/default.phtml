<?php
	$path=$this->store->make_path($this->parent, $data->path);
	$MAXLOOPCOUNT=10;
	if ($ARBeenhere[$arCallFunction][$path]<$MAXLOOPCOUNT) {
		$ARBeenHere[$arCallFunction][$path]+=1;
		if ($this->CheckConfig($arCallFunction, $arCallArgs)) {
			if ($path && $this->store->exists($path)) {
				$arCallArgs=array_merge($arCallArgs, Array("arShortCut" => $this->path));
				$arResult=current($this->get($path, $arCallFunction, $arCallArgs));
			} else {
				$arResult=false;
				$this->error=sprintf($ARnls["err:shortcutnopath"],$this->path,$path);
				// FROP $this->error="Error: Shortcut ".$this->path." points to nonexisting path: ".$path.".";
			}
		}
	} else {
		error( sprintf($ARnls["err:shortcutloopexceed"],$data->path, $arCallFunction,$MAXLOOPCOUNT,$this->path) );
		// FROP error("$data->path$arCallFunction called more than $MAXLOOPCOUNT times, recursive ShortCut $this->path?");
	}
?>