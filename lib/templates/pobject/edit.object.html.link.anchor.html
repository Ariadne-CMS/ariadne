<?php
	$ARCurrent->nolangcheck=true;
	if ($this->CheckLogin('read') && $this->CheckConfig($arCallFunction, $arCallArgs)) {
		$settings=$this->call("editor.ini");

		include($this->store->code."nls/ieedit.".$this->reqnls);

?>
<html>
<head>
<style>
TD {
	FONT: 11px arial, helvetica, sans-serif;
}
INPUT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 50px;
}
SELECT {
	FONT: 11px arial, helvetica, sans-serif;
	MARGIN: 2px 4px 2px 4px;
	WIDTH: 75px;
}
BODY 	{
	FONT: 11px arial, helvetica, sans-serif;
	BORDER: 0;
	BACKGROUND-COLOR: buttonface;
	MARGIN: 0px;
	PADDING: 0px;
}
.button {
	width:75px;
	margin-left: 10px;
}
.alternate {
	width: 235px;
}
.fieldset {
	width: 245px;
}
.layout {
	width: 75px;
}
.url {
	width: 225px;
}
.anchor {
	width: 90px;
}
.wgBrowseInput {
		width: 140px;
}
.wgBrowseButton {
		width: 75px;
}
.name {
	width: 90px;
}
</style>
<SCRIPT LANGUAGE=JavaScript>
<!--
	var url=new String();
	function doFillAnchors(anchors) {
		var i=1;
		for (var elem in anchors) {
			var name=anchors[elem];
			document.forms[0]['anchor'].options[i]=new Option(name, name);
			if (url==name) {
				document.forms[0]['anchor'].selectedIndex=i;
			}
			i++;
		}
	}
	function doSubmit(form) {
		document.forms[0].submit();
	}
	function doChangeType(type) {
		document.location.href=type;
	}
	function doChangeAnchor() {
		var anchor=document.forms[0]['anchor'];
		document.forms[0]["URL"].value=anchor.options[anchor.selectedIndex].value;
	}
// -->
</SCRIPT>
<SCRIPT LANGUAGE=JavaScript FOR=window EVENT=onload>
<!--
	for ( elem in top.window.dialogArguments ) {
		switch( elem ) {
			case "URL":
				url=new String(top.window.dialogArguments["URL"]);
				var anchor=url.split("#");
				if (anchor[1]) {
					url="#"+anchor[1];
				}
				document.forms[0]['URL'].value = url;
				break;
			case "ar_type":
			case "ar:type":
				var ar_type = top.window.dialogArguments[elem];
				for (i=0; i<document.forms[0]['ar_type'].options.length; i++) {
					if (document.forms[0]['ar_type'].options[i].value==ar_type) {
						document.forms[0]['ar_type'].selectedIndex=i;
						break;
					}
				}						
				break;				
			case "anchors":
				doFillAnchors(top.window.dialogArguments['anchors']);
				break;
		}
	}
// -->
</script>
</HEAD>
<BODY SCROLL=NO>
<table class="fieldset" align="left">
<form action="edit.object.html.link.anchor.save.html">
	<tr>
		<td><?php echo $ARnls["e_hyperlink_type"]; ?>:</td>
		<td><select name="ar_type" class="layout" onChange="doChangeType(this.options[this.selectedIndex].value);">
			<?php
				$type="edit.object.html.link.anchor.html";
				while (list($key, $value)=each($settings["hyperlink"])) {
					echo "<option value=\"$value\"";
					if ($value==$type) { echo " selected"; }
					echo ">$key</option>";
				}
			?>
		</select></td>
		<td>Anchors::</td>
		<td>
			<select name="anchor" onChange="doChangeAnchor();">
			<option value="">Select Anchor</option>
			</select>
		</td>
	</tr><tr>
		<td>URL:</td>
		<td colspan="3"><input type="text" name="URL" class="URL"</td>
	</tr><tr>
		<td><?php echo $ARnls["name"]; ?>:</td>
		<td colspan="3"><input type="text" name="name" value="" class="name"></td>
	</tr>
</form>
</table>
</body>
</html>
<?php
	}
?>